import{a1 as d,a as i,C as c,B as n,aa as s}from"./index-Bgo2cMrw.js";const p=d("user",()=>({user:i({...new n().getUserInOf(),token:new c().GetToken()||void 0})})),w=async(r,t)=>{try{const a=new FormData;a.append("avatar",t);const e=await s.post("/upload/avatar",a,{headers:{"Content-Type":"multipart/form-data"}});r.avatar=e.data.avatar_url;const o=await s.post("/auth/apply",r);return alert(o.data.message),o.data}catch(a){throw new Error(a)}},h=async r=>{const t=p(),a=new n;try{const e=await s.post("/auth/login",r);return e.data.token&&new c().SetToken(e.data.token),t.user.name=e.data.user.name,t.user.avatar=e.data.user.avatar.avatar,t.user.phoneNumber=e.data.user.phoneNumber,a.setUserInof({name:e.data.user.name,avatar:e.data.user.avatar.avatar,phoneNumber:e.data.user.phoneNumber,email:e.data.user.email}),alert(e.data.message),!0}catch(e){throw new Error(e)}},m=async(r,t)=>{try{if(t){const e=new FormData;e.append("avatar",t);const o=await s.post("/upload/avatar",e,{headers:{"Content-Type":"multipart/form-data"}});r.avatar=o.data.avatar_url}const a=await s.patch("/user/updata",r);return new n().setUserInof(r),a.data}catch(a){throw new Error(a)}},g=async r=>{try{return(await s.patch("/user/changePassword",r)).data}catch{}},y=async(r=1,t=5)=>{try{const a=await s.get(`/artical/list?page=${r}&size=${t}`);return console.log(a.data),{articals:a.data.articals,totial:a.data.totial}}catch(a){throw new Error(a)}},v=async r=>{try{const t=await s.post("/artical/create",r);return console.log(t),t.data}catch(t){throw new Error(t)}},f=async(r,t)=>{try{const a=await s.patch(`/artical/update/${r}`,t);return console.log(a),a.data}catch(a){throw new Error(a)}},D=async r=>{try{return(await s.delete(`artical/delete/${r}`)).data}catch(t){throw new Error(t)}},E=async(r,t)=>{try{const a=new FormData;a.append("productImage",t);const e=await s.post("/upload/productImage",a,{headers:{"Content-Type":"multipart/form-data"}});r.image=e.data.avatar_url;const o=await s.post("/production/create",r);return alert(o.data.message),o.data}catch(a){throw new Error(a)}},$=async(r=1,t=5)=>{try{const a=await s.get(`/production/list?page=${r}&size=${t}`);return console.log(a.data),{productions:a.data.productions,totial:a.data.totial}}catch(a){throw new Error(a)}},C=async(r,t,a)=>{try{if(a){const o=new FormData;o.append("productImage",a);const u=await s.post("/upload/productImage",o,{headers:{"Content-Type":"multipart/form-data"}});t.image=u.data.avatar_url}const e=await s.patch(`/production/update/${r}`,t);return alert(e.data.message),e.data}catch(e){throw new Error(e)}},I=async r=>{try{return(await s.delete(`/production/delete/${r}`)).data}catch(t){throw new Error(t)}};export{g as C,D,w as a,m as b,v as c,f as d,E as e,C as f,y as g,$ as h,I as i,h as l,p as u};
